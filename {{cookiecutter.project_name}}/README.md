# {{cookiecutter.project_name}}

This repository contains the {{cookiecutter.project_name}} python library together with utilities for building, testing, 
documentation and configuration management. The library can be installed locally by running

```python setup.py install```

from the root directory.

## Workflow
Automated builds, tests, generation of docu and publishing should be handled by cicd pipelines. 
You might already have an initial version of the pipeline here. Below you will find further details on testing 
and documentation. 

Before pushing your changes to the remote it is often useful to execute `tox` locally in order to
detect mistakes early on.

We strongly suggest to use some form of virtual environment for working with the library. E.g. with conda:
```shell script
conda create -n {{cookiecutter.project_name}} python={{cookiecutter.python_version}}
conda activate {{cookiecutter.project_name}}
pip install -r requirements.txt -r requirements-dev.txt
```

### Testing and packaging
The library is built with tox which will build and install the package and run the test suite.
Running tox will also generate coverage and pylint reports in html and badges. 
You can configure pytest, coverage and pylint by adjusting [pytest.ini](pytest.ini), [.coveragerc](.coveragerc) and
[.pylintrc](.pylintrc) respectively.

You can run thew build by installing tox into your virtual environment 
(e.g. with `pip install tox`) and executing `tox`. 

For creating a package locally run
```shell script
python setup.py sdist bdist_wheel
```

### Documentation
Documentation is built with sphinx every time tox is executed. 
There is a helper script for updating documentation files automatically. It is called by tox on build and can 
be invoked manually as
```bash
python build_scripts/update_docs.py
```
See the code documentation in the script for more details on that

### Note
You might wonder why the requirements.txt already contains numpy. The reason is that tox seems to have a problem with empty
requirements files. Feel free to remove numpy once you have non-trivial requirements

## Configuration Management
The repository also includes configuration utilities that are often helpful when using data-related libraries. 
They do not form part of the resulting package, you can (and probably should) adjust them to your needs.

## CI/CD
Depending on the provider you chose for CI/CD, this repo might already contain a rudimentary CI/CD pipeline. 
The pipelines serve for building and testing the library and for publishing the resulting package and documentation.
You will probably have to further adjust it to your needs.

## Useful information
Mark all autogenerated directories as excluded in your IDE. In particular docs/_build and .tox should be marked 
as excluded in order to get a significant speedup in searches and refactorings.

If using remote execution, don't forget to exclude data paths from deployment (unless you really want to sync them)